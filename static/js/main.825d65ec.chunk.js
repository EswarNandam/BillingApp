(this["webpackJsonpbilling-app"]=this["webpackJsonpbilling-app"]||[]).push([[0],{33:function(e,t,n){},48:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),s=n(14),r=n.n(s),i=(n(48),n(33),n(82));function l(e,t){var n=[];return new Promise((function(c,a){e.transaction((function(e){e.executeSql("SELECT * FROM ".concat(t),[],(function(e,t){var a,s=t.rows.length;for(a=0;a<s;a++)n.push(t.rows.item(a)),c(n)}),null)}))})).then((function(){return n}))}var o=n(10),d=n(78),j=n(88),u=n(80),b=n(85),h=n(81),x=n(86),O=n(17),m={items:[],cartItems:[],bills:[]};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return Object(O.a)(Object(O.a)({},e),{},{items:t.payload});case"ADD_ITEM_TO_CART":return Object(O.a)(Object(O.a)({},e),{},{cartItems:t.payload});case"CHECKOUT_CLICK":return Object(O.a)(Object(O.a)({},e),{},{bills:e.bills.concat(t.payload)});default:return e}}var f=Object(a.createContext)(null);function v(e){var t=e.children,n=Object(a.useReducer)(p,m),s=Object(o.a)(n,2),r={state:s[0],dispatch:s[1]};return Object(c.jsx)(f.Provider,{value:r,children:t})}var y=function(){return Object(a.useContext)(f)};var g=function(e){var t=y().state.bills;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(x.a,{style:{height:"365px"},children:0===t.length?Object(c.jsx)("div",{children:"Please add items and click on checkout to generate the bill"}):Object(c.jsx)(x.a.Body,{style:{height:"200px",overflowY:0===t.length?"none":"scroll"},children:t.map((function(e,t){return Object(c.jsxs)("div",{style:{border:"1px solid black",padding:"5px",margin:"10px"},children:[Object(c.jsx)("div",{className:"row",style:{fontWeight:"700"},children:Object(c.jsxs)("div",{className:"col-md-12",children:[Object(c.jsx)("span",{style:{float:"left"},children:e.billId}),Object(c.jsxs)("span",{style:{float:"right"},children:["Rs. ",e.amount]})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12",children:Object(c.jsx)("span",{style:{float:"left"},children:e.date})})})]},t+1)}))})})})},N=n(87),C=n(20),I=n.n(C),T=n(26),w=n(83),S=n(84),D=n(36);var k=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(1),d=Object(o.a)(i,2),j=d[0],u=d[1],b=y(),h=b.state,x=b.dispatch,O=e.onCancel,m=e.DB,p=h.items,f=function(){var e=Object(T.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.filter((function(e){return e.id===s})),null!==s&&""!==j){e.next=5;break}alert("Please Fill All the Necessary Fields"),e.next=11;break;case 5:return m.transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS cartItems (id unique, name, price, quantity)"),e.executeSql("INSERT INTO cartItems (id, name, price, quantity) VALUES (".concat(t[0].id,', "').concat(t[0].name,'", "').concat(t[0].price,'", "').concat(j,'")'))})),e.next=8,l(m,"cartItems");case 8:n=e.sent,x({type:"ADD_ITEM_TO_CART",payload:n}),O();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(w.a,{show:!0,onHide:O,children:[Object(c.jsx)(w.a.Header,{closeButton:!0,children:Object(c.jsx)(w.a.Title,{children:"Select Item"})}),Object(c.jsx)(w.a.Body,{children:Object(c.jsxs)(S.a,{children:[Object(c.jsx)(S.a.Row,{className:"justify-content-center",children:Object(c.jsxs)(S.a.Group,{as:D.a,xs:12,children:[Object(c.jsx)(S.a.Label,{className:"fs-14",children:"Select"}),Object(c.jsxs)(S.a.Control,{as:"select",name:"select",className:"rounded-0",value:null===s?"":s,onChange:function(e){r(Number(e.target.value))},children:[Object(c.jsx)("option",{children:"Select Item"}),p.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})}),Object(c.jsx)(S.a.Row,{className:"justify-content-center",children:Object(c.jsxs)(S.a.Group,{as:D.a,xs:12,children:[Object(c.jsx)(S.a.Label,{className:"fs-14",children:"Quantity"}),Object(c.jsx)(S.a.Control,{required:!0,type:"number",rows:"1",min:"1",name:"price",value:j,onChange:function(e){u(Number(e.target.value))},className:"rounded-0"})]})})]})}),Object(c.jsx)(w.a.Footer,{children:Object(c.jsx)(N.a,{variant:"primary rounded-0",onClick:f,children:"Add"})})]})};var E=function(e){var t=e.DB,n=Object(a.useState)(!1),s=Object(o.a)(n,2),r=s[0],i=s[1],l=Object(a.useState)(0),d=Object(o.a)(l,2),j=d[0],u=d[1],b=y(),h=b.state,O=b.dispatch,m=h.items,p=h.cartItems;return Object(a.useEffect)((function(){for(var e=0,t=0;t<p.length;t++)e+=p[t].price*p[t].quantity;u(e)}),[p]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(x.a,{style:{height:"365px"},children:[Object(c.jsxs)(x.a.Body,{style:{height:"200px",overflowY:0===p.length?"none":"scroll"},children:[Object(c.jsx)("div",{className:"row",style:{display:"flex",flexDirection:"row-reverse"},children:Object(c.jsxs)("div",{style:{float:"right"},children:[Object(c.jsx)("span",{style:{marginRight:"15px"},className:"p1 fa-stack has-badge","data-count":p.length,children:"Cart"}),Object(c.jsx)(N.a,{variant:"danger rounded-0",onClick:function(){m.length>0?i(!0):alert("Please Add the Item to Proceed")},children:"+"})]})}),p.map((function(e,t){return Object(c.jsxs)("div",{style:{border:"1px solid black",padding:"5px",margin:"10px"},children:[Object(c.jsx)("div",{className:"row",style:{fontWeight:"700"},children:Object(c.jsxs)("div",{className:"col-md-12",children:[Object(c.jsx)("span",{style:{float:"left"},children:e.name}),Object(c.jsxs)("span",{style:{float:"right"},children:["Rs. ",e.price*e.quantity]})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12",children:Object(c.jsxs)("span",{style:{float:"left"},children:["Quantity: ",e.quantity]})})})]},t+1)}))]}),Object(c.jsxs)(x.a.Footer,{children:[Object(c.jsxs)("span",{style:{float:"left"},children:["Amount Rs: ",j]}),Object(c.jsxs)("span",{style:{float:"right"},children:["Total Items: ",p.length]}),Object(c.jsx)("span",{children:Object(c.jsx)(N.a,{onClick:function(){return e=j,new Promise((function(e,n){e(t.transaction((function(e){e.executeSql("DROP TABLE cartItems")})))})).then((function(){O({type:"ADD_ITEM_TO_CART",payload:[]})})),void(0!==e&&O({type:"CHECKOUT_CLICK",payload:{billId:"BILL0000".concat(Math.floor(900*Math.random()+100)),amount:e,date:(new Date).toLocaleDateString()}}));var e},variant:"primary rounded-0",children:"CHECKOUT"})})]})]}),r?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(k,{onCancel:function(){i(!1)},DB:t})}):null]})};var A=function(e){var t=e.onCancel,n=e.DB,s=Object(a.useState)(""),r=Object(o.a)(s,2),i=r[0],d=r[1],j=Object(a.useState)(1),u=Object(o.a)(j,2),b=u[0],h=u[1],x=y(),O=x.state,m=x.dispatch,p=function(){var e=Object(T.a)(I.a.mark((function e(){var c,a,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=O.items,a=c.filter((function(e){return e.name===i})),""!==i&&""!==b){e.next=6;break}alert("Please Fill All the Necessary Fields"),e.next=16;break;case 6:if(!(a.length>0)){e.next=10;break}alert("This Product Already Exists in the Inventory"),e.next=16;break;case 10:return n.transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS myItems (id unique, name, price)"),e.executeSql("INSERT INTO myItems (id, name, price) VALUES (".concat(Math.floor(900*Math.random()+100),', "').concat(i,'", "').concat(b,'")'))})),e.next=13,l(n,"myItems");case 13:s=e.sent,m({type:"ADD_ITEM",payload:s}),t();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(w.a,{show:!0,onHide:t,children:[Object(c.jsx)(w.a.Header,{closeButton:!0,children:Object(c.jsx)(w.a.Title,{children:"Add Item"})}),Object(c.jsx)(w.a.Body,{children:Object(c.jsxs)(S.a,{children:[Object(c.jsx)(S.a.Row,{className:"justify-content-center",children:Object(c.jsxs)(S.a.Group,{as:D.a,xs:12,children:[Object(c.jsx)(S.a.Label,{className:"fs-14",children:"Name"}),Object(c.jsx)(S.a.Control,{required:!0,rows:"1",name:"name",value:i,onChange:function(e){d(e.target.value)},className:"rounded-0"})]})}),Object(c.jsx)(S.a.Row,{className:"justify-content-center",children:Object(c.jsxs)(S.a.Group,{as:D.a,xs:12,children:[Object(c.jsx)(S.a.Label,{className:"fs-14",children:"Price"}),Object(c.jsx)(S.a.Control,{required:!0,rows:"1",min:"1",type:"number",name:"price",value:b,onChange:function(e){h(e.target.value)},className:"rounded-0"})]})})]})}),Object(c.jsx)(w.a.Footer,{children:Object(c.jsx)(N.a,{variant:"primary rounded-0",onClick:p,children:"Add"})})]})};var R=function(e){var t=e.DB,n=Object(a.useState)(!1),s=Object(o.a)(n,2),r=s[0],i=s[1],l=y().state.items;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(x.a,{children:[Object(c.jsx)(x.a.Body,{style:{height:"300px",overflowY:0===l.length?"none":"scroll"},children:l.map((function(e,t){return Object(c.jsxs)("div",{style:{border:"1px solid black",padding:"5px",margin:"10px"},children:[Object(c.jsx)("div",{className:"row",style:{fontWeight:"700"},children:Object(c.jsxs)("div",{className:"col-md-12",children:[Object(c.jsx)("span",{style:{float:"left"},children:e.name}),Object(c.jsxs)("span",{style:{float:"right"},children:["Rs. ",e.price]})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-12",children:Object(c.jsx)("span",{style:{float:"left"},children:"Quantity: 12"})})})]},t+1)}))}),Object(c.jsx)(x.a.Footer,{children:Object(c.jsx)("span",{style:{float:"right"},children:Object(c.jsx)(N.a,{variant:"primary",style:{borderRadius:"50%"},onClick:function(){i(!0)},children:"+"})})})]}),r?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(A,{onCancel:function(){i(!1)},DB:t})}):null]})};var B=function(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),s=n[0],r=n[1],i=y().state.bills;return Object(a.useEffect)((function(){for(var e=0,t=0;t<i.length;t++)e+=i[t].amount;r(e)}),[i]),Object(c.jsxs)(x.a,{style:{height:"365px"},children:[Object(c.jsx)(x.a.Header,{children:Object(c.jsx)("span",{style:{float:"left"},children:"Sales"})}),Object(c.jsx)(x.a.Body,{style:{height:"200px"},children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-12",style:{display:"flex",flexDirection:"row"},children:[Object(c.jsxs)("div",{className:"col-md-4",style:{border:"1px solid black",height:"100px",width:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"10px",flexDirection:"column"},children:[Object(c.jsxs)("div",{children:["Rs. ",s]}),Object(c.jsx)("div",{children:"Today"})]}),Object(c.jsxs)("div",{className:"col-md-4",style:{border:"1px solid black",height:"100px",width:"50px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginRight:"10px"},children:[Object(c.jsxs)("div",{children:["Rs. ",2052+s]}),Object(c.jsx)("div",{children:"This Month"})]}),Object(c.jsxs)("div",{className:"col-md-4",style:{border:"1px solid black",height:"100px",width:"50px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(c.jsxs)("div",{children:["Rs. ",2502+s]}),Object(c.jsx)("div",{children:"This Year"})]})]})})})]})},L=Object(d.a)((function(e){return{root:{width:"100%",padding:"10px",border:"1px solid black"},button:{marginRight:e.spacing(1),borderRadius:"0px",outline:"0 !important"},completed:{display:"inline-block"},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},outlineNone:{outline:"0 !important"}}}));function F(e,t){switch(e){case 0:return Object(c.jsx)(R,{DB:t});case 1:return Object(c.jsx)(E,{DB:t});case 2:return Object(c.jsx)(g,{});case 3:return Object(c.jsx)(B,{});default:return Object(c.jsx)("p",{children:"No More Steps"})}}var _=function(e){var t=L(),n=Object(a.useState)(0),s=Object(o.a)(n,2),r=s[0],i=s[1],l=Object(a.useState)(new Set),d=Object(o.a)(l,2),x=d[0],O=d[1],m=["Items","Cart","Bills","Sales"],p=e.db;return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(j.a,{nonLinear:!0,activeStep:r,children:m.map((function(e,n){return Object(c.jsx)(u.a,{children:Object(c.jsx)(b.a,{onClick:(a=n,function(){i(a)}),className:t.outlineNone,children:e})},e);var a}))}),Object(c.jsx)("div",{children:r===m.length?Object(c.jsx)("div",{children:Object(c.jsx)(h.a,{onClick:function(){i(0)},className:t.button,children:"Reset"})}):Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:t.instructions,children:F(r,p)}),Object(c.jsxs)("div",{children:[Object(c.jsx)(h.a,{disabled:0===r,onClick:function(){i((function(e){return e-1}))},className:t.button,variant:"contained",children:"Back"}),r!==m.length-1?Object(c.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){var e,t=x;e=r,x.has(e)&&(t=new Set(t.values())).delete(r),i((function(e){return e+1})),O(t)},className:t.button,children:"Next"}):null]})]})})]})},q=openDatabase("myDb","1.0","Testing",2097152);var P=function(e){var t=y(),n=t.state,s=t.dispatch;return Object(a.useEffect)((function(){l(q,"myItems").then((function(e){return s({type:"ADD_ITEM",payload:e})})),l(q,"cartItems").then((function(e){return s({type:"ADD_ITEM_TO_CART",payload:e})})),console.log(n)}),[]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(i.a,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"BILLING APPLICATION"})}),Object(c.jsx)(_,{db:q})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(c.jsx)(v,{children:Object(c.jsx)(P,{})}),document.getElementById("root")),M()}},[[54,1,2]]]);
//# sourceMappingURL=main.825d65ec.chunk.js.map